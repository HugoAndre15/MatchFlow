FAIL src/players/players.service.spec.ts
  PlayersService
    create
      Ôùï skipped devrait cr├®er un joueur si l'utilisateur est COACH de la team
      Ôùï skipped devrait cr├®er un joueur si l'utilisateur est PRESIDENT du club
      Ôùï skipped devrait refuser si l'utilisateur n'a pas les permissions
      Ôùï skipped devrait lancer NotFoundException si la team n'existe pas
    findAll
      Ôùï skipped devrait retourner les joueurs d'une team avec pagination
      Ôùï skipped devrait refuser si non autoris├®
      Ôùï skipped devrait filtrer par statut
      Ôùï skipped devrait rechercher par nom
    findOne
      Ôùï skipped devrait retourner un joueur avec les d├®tails de la team
      Ôùï skipped devrait lancer NotFoundException si joueur inexistant
      Ôùï skipped devrait refuser si non autoris├®
    update
      ├ù devrait v├®rifier les permissions sur la nouvelle team lors d'un transfert (14 ms)
      ÔêÜ devrait refuser le transfert si pas de permissions sur la nouvelle team (7 ms)
      Ôùï skipped devrait permettre au COACH de modifier un joueur
      Ôùï skipped devrait permettre au PRESIDENT du club de modifier un joueur
    remove
      Ôùï skipped devrait permettre au COACH de supprimer un joueur
      Ôùï skipped devrait permettre au PRESIDENT du club de supprimer un joueur
      Ôùï skipped devrait refuser si non autoris├®
    getPlayerStats
      Ôùï skipped devrait retourner les statistiques compl├¿tes d'un joueur
      Ôùï skipped devrait retourner des stats vides si le joueur n'a pas d'├®v├®nements
      Ôùï skipped devrait refuser si non autoris├®
System.Management.Automation.RemoteException
  ÔùÅ PlayersService ÔÇ║ update ÔÇ║ devrait v├®rifier les permissions sur la nouvelle team lors d'un transfert
System.Management.Automation.RemoteException
    expect(jest.fn()).toHaveBeenCalledTimes(expected)
System.Management.Automation.RemoteException
    Expected number of calls: 2
    Received number of calls: 3
System.Management.Automation.RemoteException
    [0m [90m 407 |[39m       [90m// Assert[39m
     [90m 408 |[39m       expect(result[33m.[39mteam_id)[33m.[39mtoBe([32m'team-2'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 409 |[39m       expect(prisma[33m.[39mteam[33m.[39mfindUnique)[33m.[39mtoHaveBeenCalledTimes([35m2[39m)[33m;[39m
     [90m     |[39m                                      [31m[1m^[22m[39m
     [90m 410 |[39m     })[33m;[39m
     [90m 411 |[39m
     [90m 412 |[39m     it([32m'devrait refuser le transfert si pas de permissions sur la nouvelle team'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m
System.Management.Automation.RemoteException
      at Object.<anonymous> (players/players.service.spec.ts:409:38)
System.Management.Automation.RemoteException
Test Suites: 1 failed, 1 total
Tests:       1 failed, 19 skipped, 1 passed, 21 total
Snapshots:   0 total
Time:        2.872 s, estimated 3 s
Ran all test suites matching /src\\players\\players.service.spec.ts/i with tests matching "transfert".
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
